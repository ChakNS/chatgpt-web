<script lang="ts" setup>
import { computed } from 'vue'
import { NAvatar } from 'naive-ui'
import { useUserStore } from '@/store'
import { isString } from '@/utils/is'
import defaultAvatar from '@/assets/avatar.jpg'

interface Props {
  image?: boolean
}
defineProps<Props>()

const userStore = useUserStore()

const avatar = computed(() => userStore.userInfo.avatar)
</script>

<template>
  <template v-if="image">
    <NAvatar v-if="isString(avatar) && avatar.length > 0" :src="avatar" :fallback-src="defaultAvatar" />
    <NAvatar v-else round :src="defaultAvatar" />
  </template>
  <span v-else class="text-[28px] dark:text-white">
    <svg class="icon" width="1em" height="1em" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M352 708h160v80H352z" fill="#BDBDBD" /><path d="M512 700H352a8 8 0 0 0-8 8v80a8 8 0 0 0 8 8h160a8 8 0 0 0 8-8v-80a8 8 0 0 0-8-8z m-8 80h-144v-64h144v64z" fill="#37474F" /><path d="M624 324a24 24 0 0 0-24 24v200h48v-200a24 24 0 0 0-24-24z" fill="#EEEEEE" /><path d="M624 316c-17.648 0-32 14.352-32 32v200a8 8 0 0 0 8 8h48a8 8 0 0 0 8-8v-200c0-17.648-14.352-32-32-32z m16 224h-32v-192a16.016 16.016 0 0 1 32 0v192z" fill="#37474F" /><path d="M560 388H320a40 40 0 0 0-40 40v240a40 40 0 0 0 40 40h240a40 40 0 0 0 40-40v-240a40 40 0 0 0-40-40z" fill="#FFA000" /><path d="M560 380H320c-26.464 0-48 21.536-48 48v240c0 26.464 21.536 48 48 48h240c26.464 0 48-21.536 48-48v-240c0-26.464-21.536-48-48-48z m32 288c0 17.648-14.352 32-32 32H320c-17.648 0-32-14.352-32-32v-240c0-17.648 14.352-32 32-32h240c17.648 0 32 14.352 32 32v240z" fill="#37474F" /><path d="M920 916h-896a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h896a16 16 0 0 0 16-16v-48a16 16 0 0 0-16-16z" fill="#BDBDBD" /><path d="M920 908h-896c-13.232 0-24 10.768-24 24v48c0 13.232 10.768 24 24 24h896c13.232 0 24-10.768 24-24v-48c0-13.232-10.768-24-24-24z m8 72a8 8 0 0 1-8 8h-896a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8h896a8 8 0 0 1 8 8v48z" fill="#37474F" /><path d="M24 92a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16H400v-80H24z" fill="#BDBDBD" /><path d="M400 84H24c-13.232 0-24 10.768-24 24v48c0 13.232 10.768 24 24 24H400a8 8 0 0 0 8-8v-80a8 8 0 0 0-8-8z m-8 80h-368a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8h368v64z" fill="#37474F" /><path d="M1000 92H656v80h344a16 16 0 0 0 16-16v-48a16 16 0 0 0-16-16z" fill="#EEEEEE" /><path d="M1000 84H656a8 8 0 0 0-8 8v80a8 8 0 0 0 8 8h344c13.232 0 24-10.768 24-24v-48c0-13.232-10.768-24-24-24z m8 72a8 8 0 0 1-8 8h-336v-64h336a8 8 0 0 1 8 8v48z" fill="#37474F" /><path d="M520 36h-128a40 40 0 0 0-40 40v112a40 40 0 0 0 40 40h128a40 40 0 0 0 40-40v-112a40 40 0 0 0-40-40z" fill="#455A64" /><path d="M520 28h-128c-26.464 0-48 21.536-48 48v112c0 26.464 21.536 48 48 48h128c26.464 0 48-21.536 48-48v-112c0-26.464-21.536-48-48-48z m32 160c0 17.648-14.352 32-32 32h-128c-17.648 0-32-14.352-32-32v-112c0-17.648 14.352-32 32-32h128c17.648 0 32 14.352 32 32v112z" fill="#37474F" /><path d="M88 92a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h320v-80h-320z" fill="#EEEEEE" /><path d="M408 84h-320c-13.232 0-24 10.768-24 24v48c0 13.232 10.768 24 24 24h320a8 8 0 0 0 8-8v-80a8 8 0 0 0-8-8z m-8 80H88a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8H400v64z" fill="#37474F" /><path d="M616 36h-128a40 40 0 0 0-40 40v112a40 40 0 0 0 40 40h128a40 40 0 0 0 40-40v-112a40 40 0 0 0-40-40z" fill="#78909C" /><path d="M616 28h-128c-26.464 0-48 21.536-48 48v112c0 26.464 21.536 48 48 48h128c26.464 0 48-21.536 48-48v-112c0-26.464-21.536-48-48-48z m32 160c0 17.648-14.352 32-32 32h-128c-17.648 0-32-14.352-32-32v-112c0-17.648 14.352-32 32-32h128c17.648 0 32 14.352 32 32v112z" fill="#37474F" /><path d="M464 228v64l40 40 40-40v-64z" fill="#EEEEEE" /><path d="M544 220h-80a8 8 0 0 0-8 8v64c0 2.128 0.848 4.16 2.336 5.664l40 40a7.968 7.968 0 0 0 11.328 0l40-40a8 8 0 0 0 2.336-5.664v-64a8 8 0 0 0-8-8z m-8 68.688l-32 32-32-32V236h64v52.688z" fill="#37474F" /><path d="M1000 916h-896a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h896a16 16 0 0 0 16-16v-48a16 16 0 0 0-16-16z" fill="#EEEEEE" /><path d="M1000 908h-896c-13.232 0-24 10.768-24 24v48c0 13.232 10.768 24 24 24h896c13.232 0 24-10.768 24-24v-48c0-13.232-10.768-24-24-24z m8 72a8 8 0 0 1-8 8h-896a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8h896a8 8 0 0 1 8 8v48z" fill="#37474F" /><path d="M680 788h-512a40 40 0 0 0-40 40v88h592v-88a40 40 0 0 0-40-40z" fill="#0097A7" /><path d="M680 780h-512c-26.464 0-48 21.536-48 48v88a8 8 0 0 0 8 8h592a8 8 0 0 0 8-8v-88c0-26.464-21.536-48-48-48z m32 128h-576v-80c0-17.648 14.352-32 32-32h512c17.648 0 32 14.352 32 32v80z" fill="#37474F" /><path d="M840 788h-512a40 40 0 0 0-40 40v88h592v-88a40 40 0 0 0-40-40z" fill="#26C6DA" /><path d="M840 780h-512c-26.464 0-48 21.536-48 48v88a8 8 0 0 0 8 8h592a8 8 0 0 0 8-8v-88c0-26.464-21.536-48-48-48z m32 128h-576v-80c0-17.648 14.352-32 32-32h512c17.648 0 32 14.352 32 32v80z" fill="#37474F" /><path d="M320 820a8 8 0 0 0-8 8v64a8 8 0 0 0 16 0v-64a8 8 0 0 0-8-8z" fill="#80DEEA" /><path d="M160 820a8 8 0 0 0-8 8v64a8 8 0 0 0 16 0v-64a8 8 0 0 0-8-8z" fill="#26C6DA" /><path d="M848 820a8 8 0 0 0-8 8v64a8 8 0 0 0 16 0v-64a8 8 0 0 0-8-8z" fill="#0097A7" /><path d="M544 252h-80a8 8 0 0 0 0 16h80a8 8 0 0 0 0-16z" fill="#37474F" /><path d="M712 388h-240a40 40 0 0 0-40 40v240a40 40 0 0 0 40 40h240a40 40 0 0 0 40-40v-240a40 40 0 0 0-40-40z" fill="#FFCA28" /><path d="M712 380h-240c-26.464 0-48 21.536-48 48v240c0 26.464 21.536 48 48 48h240c26.464 0 48-21.536 48-48v-240c0-26.464-21.536-48-48-48z m32 288c0 17.648-14.352 32-32 32h-240c-17.648 0-32-14.352-32-32v-240c0-17.648 14.352-32 32-32h240c17.648 0 32 14.352 32 32v240z" fill="#37474F" /><path d="M464 420a8 8 0 0 0-8 8v240a8 8 0 0 0 16 0v-240a8 8 0 0 0-8-8z" fill="#FFE082" /><path d="M720 420a8 8 0 0 0-8 8v240a8 8 0 0 0 16 0v-240a8 8 0 0 0-8-8z" fill="#FFA000" /><path d="M480 68a8 8 0 0 0-8 8v112a8 8 0 0 0 16 0v-112a8 8 0 0 0-8-8z" fill="#B0BEC5" /><path d="M624 68a8 8 0 0 0-8 8v112a8 8 0 0 0 16 0v-112a8 8 0 0 0-8-8z" fill="#455A64" /><path d="M304 324a24 24 0 0 0-24 24v200h48v-200a24 24 0 0 0-24-24z" fill="#BDBDBD" /><path d="M304 316c-17.648 0-32 14.352-32 32v200a8 8 0 0 0 8 8h48a8 8 0 0 0 8-8v-200c0-17.648-14.352-32-32-32z m16 224h-32v-192c0-8.816 7.184-16 16-16s16 7.184 16 16v192z" fill="#37474F" /><path d="M336 548m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#FFCA28" /><path d="M336 476c-39.696 0-72 32.304-72 72s32.304 72 72 72 72-32.304 72-72-32.304-72-72-72z m0 128c-30.88 0-56-25.12-56-56s25.12-56 56-56 56 25.12 56 56-25.12 56-56 56z" fill="#37474F" /><path d="M512 708h160v80H512z" fill="#EEEEEE" /><path d="M672 700H512a8 8 0 0 0-8 8v80a8 8 0 0 0 8 8h160a8 8 0 0 0 8-8v-80a8 8 0 0 0-8-8z m-8 80h-144v-64h144v64z" fill="#37474F" /><path d="M648 580h-112a24 24 0 0 0 0 48h112a24 24 0 1 0 0-48z" fill="#FFA000" /><path d="M648 572h-112c-17.648 0-32 14.352-32 32s14.352 32 32 32h112c17.648 0 32-14.352 32-32s-14.352-32-32-32z m0 48h-112c-8.816 0-16-7.184-16-16s7.184-16 16-16h112a16.016 16.016 0 0 1 0 32z" fill="#37474F" /><path d="M528 500m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" fill="#EEEEEE" /><path d="M528 460c-22.048 0-40 17.952-40 40s17.952 40 40 40c22.064 0 40-17.952 40-40s-17.936-40-40-40z m0 64c-13.232 0-24-10.768-24-24s10.768-24 24-24 24 10.768 24 24-10.768 24-24 24z" fill="#37474F" /><path d="M656 500m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" fill="#EEEEEE" /><path d="M656 460c-22.064 0-40 17.952-40 40s17.936 40 40 40 40-17.952 40-40-17.936-40-40-40z m0 64c-13.232 0-24-10.768-24-24s10.768-24 24-24 24 10.768 24 24-10.768 24-24 24z" fill="#37474F" /><path d="M304 548m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#FFA000" /><path d="M304 476c-39.696 0-72 32.304-72 72s32.304 72 72 72 72-32.304 72-72-32.304-72-72-72z m0 128c-30.88 0-56-25.12-56-56s25.12-56 56-56 56 25.12 56 56-25.12 56-56 56z" fill="#37474F" /><path d="M304 508a40.048 40.048 0 0 0-40 40 8 8 0 0 0 16 0c0-13.232 10.768-24 24-24a8 8 0 0 0 0-16z" fill="#FFCA28" /><path d="M672 740H352a8 8 0 0 0 0 16h320a8 8 0 0 0 0-16z" fill="#37474F" /><path d="M920 548v-48h-32v48h-48v32h48v48h32v-48h48v-32z" fill="#EEEEEE" /><path d="M968 540H928v-40a8 8 0 0 0-8-8h-32a8 8 0 0 0-8 8v40h-40a8 8 0 0 0-8 8v32a8 8 0 0 0 8 8H880v40a8 8 0 0 0 8 8h32a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8v-32a8 8 0 0 0-8-8z m-8 32h-40a8 8 0 0 0-8 8v40h-16v-40a8 8 0 0 0-8-8H848v-16h40a8 8 0 0 0 8-8v-40h16v40a8 8 0 0 0 8 8H960v16z" fill="#37474F" /><path d="M136 380v-48h-32v48h-48v32h48v48h32v-48h48v-32z" fill="#EEEEEE" /><path d="M184 372H144v-40a8 8 0 0 0-8-8h-32a8 8 0 0 0-8 8v40H56a8 8 0 0 0-8 8v32a8 8 0 0 0 8 8H96v40a8 8 0 0 0 8 8h32a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8v-32a8 8 0 0 0-8-8z m-8 32H136a8 8 0 0 0-8 8v40H112v-40a8 8 0 0 0-8-8H64v-16h40a8 8 0 0 0 8-8v-40h16v40a8 8 0 0 0 8 8H176v16z" fill="#37474F" /></svg>
  </span>
</template>
